"use strict";!function(e){function t(){var e=i();e!==s&&(s=e,h.trigger("orientationchange"))}function a(t,a,o,n){var i=o.type;o.type=a,e.event.dispatch.call(t,o,n),o.type=i}e.attrFn=e.attrFn||{};var o="ontouchstart"in window,n={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:o,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:o?"touchstart":"mousedown",endevent:o?"touchend":"mouseup",moveevent:o?"touchmove":"mousemove",tapevent:o?"tap":"click",scrollevent:o?"touchmove":"scroll",hold_timer:null,tap_timer:null};e.isTouchCapable=function(){return n.touch_capable},e.getStartEvent=function(){return n.startevent},e.getEndEvent=function(){return n.endevent},e.getMoveEvent=function(){return n.moveevent},e.getTapEvent=function(){return n.tapevent},e.getScrollEvent=function(){return n.scrollevent},e.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(t,a){e.fn[a]=function(e){return e?this.on(a,e):this.trigger(a)},e.attrFn[a]=!0}),e.event.special.tapstart={setup:function(){var t=this,o=e(t);o.on(n.startevent,function e(i){if(o.data("callee",e),i.which&&1!==i.which)return!1;var s=i.originalEvent,r={position:{x:n.touch_capable?s.touches[0].screenX:i.screenX,y:n.touch_capable?s.touches[0].screenY:i.screenY},offset:{x:n.touch_capable?Math.round(s.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(i.pageX-(o.offset()?o.offset().left:0)),y:n.touch_capable?Math.round(s.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(i.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:i.target};return a(t,"tapstart",i,r),!0})},remove:function(){e(this).off(n.startevent,e(this).data.callee)}},e.event.special.tapmove={setup:function(){var t=this,o=e(t);o.on(n.moveevent,function e(i){o.data("callee",e);var s=i.originalEvent,r={position:{x:n.touch_capable?s.touches[0].screenX:i.screenX,y:n.touch_capable?s.touches[0].screenY:i.screenY},offset:{x:n.touch_capable?Math.round(s.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(i.pageX-(o.offset()?o.offset().left:0)),y:n.touch_capable?Math.round(s.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(i.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:i.target};return a(t,"tapmove",i,r),!0})},remove:function(){e(this).off(n.moveevent,e(this).data.callee)}},e.event.special.tapend={setup:function(){var t=this,o=e(t);o.on(n.endevent,function e(i){o.data("callee",e);var s=i.originalEvent,r={position:{x:n.touch_capable?s.changedTouches[0].screenX:i.screenX,y:n.touch_capable?s.changedTouches[0].screenY:i.screenY},offset:{x:n.touch_capable?Math.round(s.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(i.pageX-(o.offset()?o.offset().left:0)),y:n.touch_capable?Math.round(s.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(i.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:i.target};return a(t,"tapend",i,r),!0})},remove:function(){e(this).off(n.endevent,e(this).data.callee)}},e.event.special.taphold={setup:function(){var t,o=this,i=e(o),s={x:0,y:0},r=0,c=0;i.on(n.startevent,function e(h){if(h.which&&1!==h.which)return!1;i.data("tapheld",!1),t=h.target;var p=h.originalEvent,f=Date.now(),u={x:n.touch_capable?p.touches[0].screenX:h.screenX,y:n.touch_capable?p.touches[0].screenY:h.screenY},l={x:n.touch_capable?p.touches[0].pageX-p.touches[0].target.offsetLeft:h.offsetX,y:n.touch_capable?p.touches[0].pageY-p.touches[0].target.offsetTop:h.offsetY};s.x=h.originalEvent.targetTouches?h.originalEvent.targetTouches[0].pageX:h.pageX,s.y=h.originalEvent.targetTouches?h.originalEvent.targetTouches[0].pageY:h.pageY,r=s.x,c=s.y;var g=i.parent().data("threshold")?i.parent().data("threshold"):i.data("threshold"),d=void 0!==g&&!1!==g&&parseInt(g)?parseInt(g):n.taphold_threshold;return n.hold_timer=window.setTimeout(function(){var g=s.x-r,d=s.y-c;if(h.target==t&&(s.x==r&&s.y==c||g>=-n.tap_pixel_range&&g<=n.tap_pixel_range&&d>=-n.tap_pixel_range&&d<=n.tap_pixel_range)){i.data("tapheld",!0);var v=Date.now(),_={x:n.touch_capable?p.touches[0].screenX:h.screenX,y:n.touch_capable?p.touches[0].screenY:h.screenY},w={x:n.touch_capable?Math.round(p.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(h.pageX-(i.offset()?i.offset().left:0)),y:n.touch_capable?Math.round(p.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(h.pageY-(i.offset()?i.offset().top:0))},T={startTime:f,endTime:v,startPosition:u,startOffset:l,endPosition:_,endOffset:w,duration:v-f,target:h.target};i.data("callee1",e),a(o,"taphold",h,T)}},d),!0}).on(n.endevent,function e(){i.data("callee2",e),i.data("tapheld",!1),window.clearTimeout(n.hold_timer)}).on(n.moveevent,function e(t){i.data("callee3",e),r=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,c=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY})},remove:function(){e(this).off(n.startevent,e(this).data.callee1).off(n.endevent,e(this).data.callee2).off(n.moveevent,e(this).data.callee3)}},e.event.special.doubletap={setup:function(){var t,o,i,s,r=this,c=e(r),h=null,p=!1;c.on(n.startevent,function e(a){return!(a.which&&1!==a.which||(c.data("doubletapped",!1),t=a.target,c.data("callee1",e),i=a.originalEvent,h||(h={position:{x:n.touch_capable?i.touches[0].screenX:a.screenX,y:n.touch_capable?i.touches[0].screenY:a.screenY},offset:{x:n.touch_capable?Math.round(i.changedTouches[0].pageX-(c.offset()?c.offset().left:0)):Math.round(a.pageX-(c.offset()?c.offset().left:0)),y:n.touch_capable?Math.round(i.changedTouches[0].pageY-(c.offset()?c.offset().top:0)):Math.round(a.pageY-(c.offset()?c.offset().top:0))},time:Date.now(),target:a.target}),0))}).on(n.endevent,function e(f){var u=Date.now(),l=u-(c.data("lastTouch")||u+1);if(window.clearTimeout(o),c.data("callee2",e),l<n.doubletap_int&&f.target==t&&l>100){c.data("doubletapped",!0),window.clearTimeout(n.tap_timer);var g={position:{x:n.touch_capable?f.originalEvent.changedTouches[0].screenX:f.screenX,y:n.touch_capable?f.originalEvent.changedTouches[0].screenY:f.screenY},offset:{x:n.touch_capable?Math.round(i.changedTouches[0].pageX-(c.offset()?c.offset().left:0)):Math.round(f.pageX-(c.offset()?c.offset().left:0)),y:n.touch_capable?Math.round(i.changedTouches[0].pageY-(c.offset()?c.offset().top:0)):Math.round(f.pageY-(c.offset()?c.offset().top:0))},time:Date.now(),target:f.target},d={firstTap:h,secondTap:g,interval:g.time-h.time};p||(a(r,"doubletap",f,d),h=null),p=!0,s=window.setTimeout(function(){p=!1},n.doubletap_int)}else c.data("lastTouch",u),o=window.setTimeout(function(){h=null,window.clearTimeout(o)},n.doubletap_int,[f]);c.data("lastTouch",u)})},remove:function(){e(this).off(n.startevent,e(this).data.callee1).off(n.endevent,e(this).data.callee2)}},e.event.special.singletap={setup:function(){var t=this,o=e(t),i=null,s=null,r={x:0,y:0};o.on(n.startevent,function e(t){return!(t.which&&1!==t.which||(s=Date.now(),i=t.target,o.data("callee1",e),r.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,r.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,0))}).on(n.endevent,function e(c){if(o.data("callee2",e),c.target==i){var h=c.originalEvent.changedTouches?c.originalEvent.changedTouches[0].pageX:c.pageX,p=c.originalEvent.changedTouches?c.originalEvent.changedTouches[0].pageY:c.pageY;n.tap_timer=window.setTimeout(function(){var e=r.x-h,i=r.y-p;if(!o.data("doubletapped")&&!o.data("tapheld")&&(r.x==h&&r.y==p||e>=-n.tap_pixel_range&&e<=n.tap_pixel_range&&i>=-n.tap_pixel_range&&i<=n.tap_pixel_range)){var f=c.originalEvent,u={position:{x:n.touch_capable?f.changedTouches[0].screenX:c.screenX,y:n.touch_capable?f.changedTouches[0].screenY:c.screenY},offset:{x:n.touch_capable?Math.round(f.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(c.pageX-(o.offset()?o.offset().left:0)),y:n.touch_capable?Math.round(f.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(c.pageY-(o.offset()?o.offset().top:0))},time:Date.now(),target:c.target};u.time-s<n.taphold_threshold&&a(t,"singletap",c,u)}},n.doubletap_int)}})},remove:function(){e(this).off(n.startevent,e(this).data.callee1).off(n.endevent,e(this).data.callee2)}},e.event.special.tap={setup:function(){var t,o,i=this,s=e(i),r=!1,c=null,h={x:0,y:0};s.on(n.startevent,function e(a){return s.data("callee1",e),!(a.which&&1!==a.which||(r=!0,h.x=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX,h.y=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY,t=Date.now(),c=a.target,o=a.originalEvent.targetTouches?a.originalEvent.targetTouches:[a],0))}).on(n.endevent,function e(p){s.data("callee2",e);var f=p.originalEvent.targetTouches?p.originalEvent.changedTouches[0].pageX:p.pageX,u=p.originalEvent.targetTouches?p.originalEvent.changedTouches[0].pageY:p.pageY,l=h.x-f,g=h.y-u;if(c==p.target&&r&&Date.now()-t<n.taphold_threshold&&(h.x==f&&h.y==u||l>=-n.tap_pixel_range&&l<=n.tap_pixel_range&&g>=-n.tap_pixel_range&&g<=n.tap_pixel_range)){for(var d=p.originalEvent,v=[],_=0;_<o.length;_++){var w={position:{x:n.touch_capable?d.changedTouches[_].screenX:p.screenX,y:n.touch_capable?d.changedTouches[_].screenY:p.screenY},offset:{x:n.touch_capable?Math.round(d.changedTouches[_].pageX-(s.offset()?s.offset().left:0)):Math.round(p.pageX-(s.offset()?s.offset().left:0)),y:n.touch_capable?Math.round(d.changedTouches[_].pageY-(s.offset()?s.offset().top:0)):Math.round(p.pageY-(s.offset()?s.offset().top:0))},time:Date.now(),target:p.target};v.push(w)}a(i,"tap",p,v)}})},remove:function(){e(this).off(n.startevent,e(this).data.callee1).off(n.endevent,e(this).data.callee2)}},e.event.special.swipe={setup:function(){function t(a){(s=e(a.currentTarget)).data("callee1",t),h.x=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX,h.y=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY,p.x=h.x,p.y=h.y,r=!0;var o=a.originalEvent;i={position:{x:n.touch_capable?o.touches[0].screenX:a.screenX,y:n.touch_capable?o.touches[0].screenY:a.screenY},offset:{x:n.touch_capable?Math.round(o.changedTouches[0].pageX-(s.offset()?s.offset().left:0)):Math.round(a.pageX-(s.offset()?s.offset().left:0)),y:n.touch_capable?Math.round(o.changedTouches[0].pageY-(s.offset()?s.offset().top:0)):Math.round(a.pageY-(s.offset()?s.offset().top:0))},time:Date.now(),target:a.target}}function a(t){(s=e(t.currentTarget)).data("callee2",a),p.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,p.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY;var o,f=s.parent().data("xthreshold")?s.parent().data("xthreshold"):s.data("xthreshold"),u=s.parent().data("ythreshold")?s.parent().data("ythreshold"):s.data("ythreshold"),l=void 0!==f&&!1!==f&&parseInt(f)?parseInt(f):n.swipe_h_threshold,g=void 0!==u&&!1!==u&&parseInt(u)?parseInt(u):n.swipe_v_threshold;if(h.y>p.y&&h.y-p.y>g&&(o="swipeup"),h.x<p.x&&p.x-h.x>l&&(o="swiperight"),h.y<p.y&&p.y-h.y>g&&(o="swipedown"),h.x>p.x&&h.x-p.x>l&&(o="swipeleft"),void 0!=o&&r){h.x=0,h.y=0,p.x=0,p.y=0,r=!1;var d=t.originalEvent,v={position:{x:n.touch_capable?d.touches[0].screenX:t.screenX,y:n.touch_capable?d.touches[0].screenY:t.screenY},offset:{x:n.touch_capable?Math.round(d.changedTouches[0].pageX-(s.offset()?s.offset().left:0)):Math.round(t.pageX-(s.offset()?s.offset().left:0)),y:n.touch_capable?Math.round(d.changedTouches[0].pageY-(s.offset()?s.offset().top:0)):Math.round(t.pageY-(s.offset()?s.offset().top:0))},time:Date.now(),target:t.target},_=Math.abs(i.position.x-v.position.x),w=Math.abs(i.position.y-v.position.y),T={startEvnt:i,endEvnt:v,direction:o.replace("swipe",""),xAmount:_,yAmount:w,duration:v.time-i.time};c=!0,s.trigger("swipe",T).trigger(o,T)}}function o(t){var a="";if((s=e(t.currentTarget)).data("callee3",o),c){var h=s.data("xthreshold"),p=s.data("ythreshold"),f=void 0!==h&&!1!==h&&parseInt(h)?parseInt(h):n.swipe_h_threshold,u=void 0!==p&&!1!==p&&parseInt(p)?parseInt(p):n.swipe_v_threshold,l=t.originalEvent,g={position:{x:n.touch_capable?l.changedTouches[0].screenX:t.screenX,y:n.touch_capable?l.changedTouches[0].screenY:t.screenY},offset:{x:n.touch_capable?Math.round(l.changedTouches[0].pageX-(s.offset()?s.offset().left:0)):Math.round(t.pageX-(s.offset()?s.offset().left:0)),y:n.touch_capable?Math.round(l.changedTouches[0].pageY-(s.offset()?s.offset().top:0)):Math.round(t.pageY-(s.offset()?s.offset().top:0))},time:Date.now(),target:t.target};i.position.y>g.position.y&&i.position.y-g.position.y>u&&(a="swipeup"),i.position.x<g.position.x&&g.position.x-i.position.x>f&&(a="swiperight"),i.position.y<g.position.y&&g.position.y-i.position.y>u&&(a="swipedown"),i.position.x>g.position.x&&i.position.x-g.position.x>f&&(a="swipeleft");var d=Math.abs(i.position.x-g.position.x),v=Math.abs(i.position.y-g.position.y),_={startEvnt:i,endEvnt:g,direction:a.replace("swipe",""),xAmount:d,yAmount:v,duration:g.time-i.time};s.trigger("swipeend",_)}r=!1,c=!1}var i,s=e(this),r=!1,c=!1,h={x:0,y:0},p={x:0,y:0};s.on(n.startevent,t),s.on(n.moveevent,a),s.on(n.endevent,o)},remove:function(){e(this).off(n.startevent,e(this).data.callee1).off(n.moveevent,e(this).data.callee2).off(n.endevent,e(this).data.callee3)}},e.event.special.scrollstart={setup:function(){function t(e,t){a(s,(o=t)?"scrollstart":"scrollend",e)}var o,i,s=this,r=e(s);r.on(n.scrollevent,function e(a){r.data("callee",e),o||t(a,!0),clearTimeout(i),i=setTimeout(function(){t(a,!1)},50)})},remove:function(){e(this).off(n.scrollevent,e(this).data.callee)}};var i,s,r,c,h=e(window),p={0:!0,180:!0};if(n.orientation_support){var f=window.innerWidth||h.width(),u=window.innerHeight||h.height();r=f>u&&f-u>50,c=p[window.orientation],(r&&c||!r&&!c)&&(p={"-90":!0,90:!0})}e.event.special.orientationchange={setup:function(){return!n.orientation_support&&(s=i(),h.on("throttledresize",t),!0)},teardown:function(){return!n.orientation_support&&(h.off("throttledresize",t),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=i(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=i=function(){var e=document.documentElement;return(n.orientation_support?p[window.orientation]:e&&e.clientWidth/e.clientHeight<1.1)?"portrait":"landscape"},e.event.special.throttledresize={setup:function(){e(this).on("resize",v)},teardown:function(){e(this).off("resize",v)}};var l,g,d,v=function(){g=Date.now(),(d=g-_)>=250?(_=g,e(this).trigger("throttledresize")):(l&&window.clearTimeout(l),l=window.setTimeout(t,250-d))},_=0;e.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(t,a){e.event.special[t]={setup:function(){e(this).on(a,e.noop)}}})}(jQuery);