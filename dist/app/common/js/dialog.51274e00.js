!function(t){function e(){this.closeButton=null,this.modal=null,this.overlay=null,this.transitionEnd=a();var t={className:"fade-and-drop",closeButton:!1,title:"",content:"",footer:"",maxWidth:"90%",width:"72%",overlay:!0,dropback:!1};arguments[0]&&s(arguments[0])&&(this.options=l(t,arguments[0])),this.open()}function n(){var t,e,n,o,i,s,a,l=this;if(e="string"==typeof this.options.content?this.options.content:this.options.content.innerHTML,i=document.createDocumentFragment(),this.modal=document.createElement("div"),this.modal.className="dialog-modal "+this.options.className,this.modal.style.width=this.options.width,this.options.closeButton&&(this.closeButton=document.createElement("button"),this.closeButton.className="dialog-close close-button",this.closeButton.innerHTML="Ã—",this.modal.appendChild(this.closeButton)),this.options.overlay&&(this.overlay=document.createElement("div"),this.overlay.className="dialog-overlay "+this.options.className,i.appendChild(this.overlay)),this.options.title&&((t=document.createElement("div")).className="dialog-header",t.innerHTML=this.options.title,this.modal.appendChild(t)),n=document.createElement("div"),n.className="dialog-content",n.innerHTML=e,this.modal.appendChild(n),this.options.buttons&&this.options.buttons.length){s=this.options.buttons,(o=document.createElement("div")).className="dialog-footer";for(var c=0,d=s.length;c<d;c++)!function(t){a=document.createElement("BUTTON");var e=document.createTextNode(s[t].text);a.appendChild(e),a.className="btn "+(s[t].className||""),o.appendChild(a),a.addEventListener("click",s[t].cb.bind(l),!1)}(c);this.modal.appendChild(o)}i.appendChild(this.modal),document.body.appendChild(i)}function o(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:this.close.bind(this)},this.closeButton&&this.closeButton.addEventListener(c(),this._events.clickCloseBtn,!1),this.options.dropback&&this.overlay.addEventListener(c(),this._events.clickOverlay,!1)}function i(){this.closeButton&&this.closeButton.removeEventListener(c(),this._events.clickCloseBtn,!1),this.options.dropback&&this.overlay.removeEventListener(c(),this._events.clickOverlay,!1)}function s(t){return"[object Object]"==Object.prototype.toString.call(t)}function a(){var t=document.createElement("div");return t.style.WebkitTransition?"webkitTransitionEnd":t.style.OTransition?"oTransitionEnd":"transitionend"}function l(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function c(){return t&&t.util&&t.util.isMobile?"touchstart":"click"}e.prototype.open=function(){n.call(this),o.call(this),window.getComputedStyle(this.modal).height,this.modal.className=this.modal.className+(this.modal.offsetHeight>window.innerHeight?" dialog-open dialog-anchored":" dialog-open"),this.overlay.className=this.overlay.className+" dialog-open"},e.prototype.close=function(){var t=this;this.modal.className=this.modal.className.replace("dialog-open",""),this.overlay.className=this.overlay.className.replace("dialog-open",""),this.modal.addEventListener(this.transitionEnd,function e(){t.modal.parentNode&&t.modal.parentNode.removeChild(t.modal),t.modal.removeEventListener(this.transitionEnd,e,!1)},!1),this.overlay&&(this.overlay.addEventListener(this.transitionEnd,function e(){t.overlay.parentNode&&t.overlay.parentNode.removeChild(t.overlay),t.modal.removeEventListener(this.transitionEnd,e,!1)},!1),setTimeout(function(){t.overlay.parentNode&&t.overlay.parentNode.removeChild(t.overlay)},450)),i.call(this)},e.alert=function(t){l(t,{buttons:[{text:t.text,className:"btn-md btn-primary btn-full",cb:function(){this.close()}}]}),new e(t)},e.confirm=function(t){var n={buttons:[{text:t.text[0],className:"btn-md "+(t.hlCancel?"btn-primary ":"")+"btn-half",cb:function(){t.ondeny?t.ondeny.call(this):this.close()}},{text:t.text[1],className:"btn-md btn-primary btn-half",cb:function(){t.onaccept.call(this),!t.manualClose&&this.close()}}]};l(t,n),new e(t)},window.Okay=t||{},window.Okay.Dialog=e}(window.Okay);