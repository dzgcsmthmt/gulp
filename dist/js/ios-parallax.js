!function(n){n.iosParallax=function(t,a){function i(){var n=c.$el.css("background-image").match(/url\(.*\)/gi);if(!n||n.length<1)throw"No background image found";return n[0].replace(/url\(|'|"|'|"|\)$/gi,"")}function o(){var n=new Image;return n.src=i(),{width:n.width,height:n.height}}function e(){var n=o();l.x=-1*Math.abs(n.width-c.$el.width())/2,l.y=-30,s.x=l.x,s.y=l.y,u.x=l.x,u.y=l.y}function r(){c.$el.mousemove(function(t){var a=c.options.movementFactor/c.$el.width(),i=c.options.movementFactor/c.$el.height(),o=t.pageX-n(window).width()/2,e=t.pageY-n(window).height()/2;s.x=a*o*-1+l.x,s.y=i*e*-1+l.y});setInterval(function(){u.x+=(s.x-u.x)/c.options.dampenFactor,u.y+=(s.y-u.y)/c.options.dampenFactor,c.$el.css("background-position",u.x+"px "+u.y+"px")},16);n(window).resize(function(){e()});var t=new Image;t.src=i(),n(t).load(function(){e()})}var c=this;c.$el=n(t),c.el=t,c.$el.data("iosParallax",c);var l={x:0,y:0},s={x:0,y:0},u={x:0,y:0};c.init=function(){c.options=n.extend({},n.iosParallax.defaultOptions,a),r()},c.init()},n.iosParallax.defaultOptions={movementFactor:50,dampenFactor:36},n.fn.iosParallax=function(t){return this.each(function(){new n.iosParallax(this,t)})}}(jQuery);